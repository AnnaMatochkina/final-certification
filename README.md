# Модель прогнозирования финансовой устойчивости организации

Этот проект посвящен обучению модели машинного обучения для прогнозирования финансовой устойчивости организаций на основе данных бухгалтерской отчетности. Модель анализирует данные из бухгалтерского баланса и отчета о финансовых результатах и разделяет компании на два класса: "финансово устойчивые" и "финансово неустойчивые". Такое деление может помочь инвесторам, кредиторам и аналитикам оценивать финансовые риски и принимать обоснованные решения.

## Содержание
- [Технологии](#технологии)
- [Использование](#использование)
- [Разработка](#разработка)
- [Contributing](#contributing)
- [To do](#to-do)
- [Команда проекта](#команда-проекта)

## Технологии
- Python
- Pandas
- Joblib
- Scikit-learn
- NumPy
- Matplotlib, Seaborn
- Lightgbm

## Использование
1. Откройте, например в Jupyter Notebook, файл <mark>"итоговая аттестация файл 3.ipynb"</mark>. 

Ссылка на файл https://colab.research.google.com/drive/1i-HvlqqXd7hWFOtBURllDi2qA1oaemiC?usp=drive_link.

2. Загрузите модель <mark>"best_model_rfc.joblib"</mark>.

Ссылка на модель https://drive.google.com/file/d/1krN2WRx4IJ555CX0QEzk0HqGOSuv8CaH/view?usp=sharing.

3. Запустите ячейки с кодом.

4. Введите необходимые данные бухгалтерской отчетности.

5. После этого будет выведен результат прогнозирования.

## Разработка
### Разметка данных
Для обучения моделей использованы данные бухгалтерской отчетности российских организаций за 2018 год, размещенные на сайте Федеральной службы государственной статистики. Выбраны организации с формой собственности - частная собственность. 
Датасет <mark>df_report_2018.csv</mark>.

Ссылка на файл https://drive.google.com/file/d/14lxqqbBRbLTJIZ6mTHjNd-tWtnGcqbfN/view?usp=drive_link.

1. Выявление ошибок, связанных с отсутствием данных в суммирующих столбцах и неверным отражением в датасете некоторых отрицательных строк. Файл <mark>итоговая аттестация файл 1 разметка данных на два класса.ipynb</mark>. 

Ссылка на файл https://colab.research.google.com/drive/1r9Q2WN9YHsWU3Mua9kv95D4qXPPi-8vm?usp=drive_link.

2. Определение финансовой устойчивости организаций:

    - по модели Шеремета А.Д., Сайфулина Р.С., Негашева Е.В., Кадыкова Г.Г.,
    - по модели Постюшкова А.В.,
    - по R-модели, разработанной в Иркутской государственной экономической академии,
    - по методике Илышевой Н.Н. и Крылова С.И.,
    - по коэффициентному анализу.

3. Обобщение результатов и сохранение размеченного датасета в файл <mark> reports_private_property_384.csv</mark>. 

Ссылка на файл https://drive.google.com/file/d/1oL-WlsecIanu1mZTsOdq3kaWJttrUeCq/view?usp=drive_link.

### Обучение моделей
1. Выявление выбросов, пропусков и обработка категориальных признаков. Файл <mark>итоговая аттестация файл 2.ipynb</mark>.

Ссылка на файл https://colab.research.google.com/drive/1qL4qbO90Rw9z_WY9-m5FQVyRAwXv5fVb?usp=drive_link.

2. Построение моделей машинного обучения:

    - Logistic Regression
    - KNeighborsClassifier
    - Decision Tree
    - Random Forest
    - LGBMClassifier

3. Выбор оптимальной модели: модель случайного леса при подборе гиперпараметров показала лучший результат точности на тестовых данных 0.9070 (max_depth=20, min_samples_leaf=2, min_samples_split=2, n_estimators=100). ROC-AUC на тестовой выборке: 0.8993, F1-score: 0.8528.

4. Выгрузка лучшей модели <mark>best_model_rfc.joblib</mark>.

## Contributing
1. Для обсуждения предложений по новым функциям или сообщений о найденных ошибках создавайте соответствующие issue в репозитории на платформе GitHub: https://github.com/AnnaMatochkina/final-certification.git.

2. При внесении изменений в код оформляйте pull request с подробным описанием предлагаемых модификаций. Обеспечивайте наличие комментариев в коде для улучшения его читаемости.

## To do
1. Рассмотреть необходимость добавления дополнительных строк бухгалтерской отчетности для обучения модели.

2. Повысить качество предобработки данных (разметка классов, обработка выбросов и логических ошибок).

3. Реализовать более сложные модели (нейронные сети).

4. Оптимизировать код.

## Команда проекта
Маточкина Анна, email: matochkina.a@yandex.ru
